document.querySelector("head").innerHTML+='<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mzebley/poppins@main/dist/poppins.min.css" type="text/css"/>';let arrow_svg='<svg viewBox="0 0 32 32" role="img" aria-label="An arrow icon." class="icon blue"><path d="M32 16.010q0-1.452-0.935-2.387l-9.924-9.924q-1.014-1.014-2.227-1.014-1.472 0-2.347 0.885t-0.875 2.178q0 0.776 0.318 1.333t0.776 1.014l3.58 3.54 3.878 3.62 1.71-2.168-7.259-0.338h-15.234q-1.571 0-2.516 0.895t-0.945 2.367 0.945 2.367 2.516 0.895h15.234l7.259-0.338-1.71-2.168-3.878 3.62-3.58 3.52q-0.457 0.438-0.776 1.004t-0.318 1.342q0 1.293 0.875 2.178t2.347 0.885q1.213 0 2.227-1.014l9.924-9.904q0.935-0.935 0.935-2.387z"></path></svg>';function poppinTemplates(i,p){var n='<div class="poppins-dismissal" onclick="buildPoppin(null, null, false)"></div>';return"custom"===i?n+=`\n        <div class="poppins-item list-menu" style="left:-99999px;top:-999999px;opacity:0;" id="poppin-${i}">\n            ${p}\n        </div>`:"list_menu"===i?(n+=`\n        <div class="poppins-item list-menu" style="left:-99999px;top:-999999px;opacity:0;" id="poppin-${i}">`,p.forEach(function(i){n+=`\n            <div onclick="buildPoppin(null, null, false);${i.function};">\n                <div><p>${i.content}</p></div>\n                <div>${i.svg_id?`<svg class="icon ${i.color_class?i.color_class:""} ${i.large_icon?"larger":""}"><use xlink:href="#${i.svg_id}"></use></svg>`:arrow_svg}</div>\n            </div>\n            `}),n+="</div>"):"additional_info"===i&&(n+=`\n        ${p.photo_link?`<div class="poppins-image ${p.photo_layout}" style="background-image:url('${p.photo_link}')"><div class="square-jelly-box"><div></div><div></div></div></div>`:""}\n        <div class="poppins-item text-medium" style="left:-99999px;top:-999999px;opacity:0;" id="poppin-${i}">\n            <div class="content">\n                <div>\n                    ${p.title?`<p class="title">${p.title}</p>`:""}\n                    ${p.content?`<p>${p.content}</p>`:""}\n                </div>\n            </div>\n            ${p.link?`\n            <div id="learn-more-btn" onclick="buildPoppin(null, null, false);${p.function};">\n                <div>\n                    <p>${p.link_header?p.link_header:"Dive Deeper"}</p>\n                    <span class="full-width float-left text-small opacity-75">Via <b>${p.source}</b></span>\n                </div>\n                <div>\n                    <button class="blue small circle">\n                        ${arrow_svg}\n                    </button>\n                </div>\n            </div>\n            `:""}\n        </div>`),n}export function buildPoppin(i,p,n,t,s){if(n){$(p?"#"+p:".nothing").addClass("poppins-shrink-back"),$("body").css("overflow","hidden");var o=poppinTemplates(i,s);$("body").append(o),positionPoppin(i,p,t)}else $(".poppins-shrink-back").removeClass("poppins-shrink-back"),$("body").css("overflow",""),$(".poppins-item, .poppins-image, .poppins-dismissal").fadeOut(125,function(){$(this).remove()})}function positionPoppin(i,p,n){var t=n?{left:n.x,top:n.y,height:0,width:0}:$("#"+p)[0].getBoundingClientRect(),s=$(".poppins-image").length>0,o=s?$(".poppins-image")[0].getBoundingClientRect():{height:0,width:0},e=$("#poppin-"+i).width(),l=$("#poppin-"+i).height()+o.height;$("#poppin-"+i).css({transform:"scale3d(0,0,0)",top:"",left:""}),$(".poppins-image").css({transform:"scale3d(0,0,0)"}),t.left-e<=0&&t.left+e<$(window).width()?($("#poppin-"+i).css("left",t.left+(n?0:16)),$("#poppin-"+i).addClass("from-left")):t.left-e<=0&&t.left+(e+32)>$(window).width()?($("#poppin-"+i).css("left","calc(50% - "+e/2+"px)"),$("#poppin-"+i).addClass("center")):$("#poppin-"+i).css("right",$(window).width()-t.left-(t.width-(n?0:16))),t.top+t.height+l>$(window).height()?(t.top+16-l<0&&$("#poppin-"+i).css("max-height",t.top+16+"px"),t.top-(t.height+l+(s?o.height+16:0))<8?$("#poppin-"+i).css("top",16):($("#poppin-"+i).addClass("from-bottom"),$("#poppin-"+i).css("bottom",$(window).height()-t.top+(n?0:16)))):$("#poppin-"+i).css("top",t.top+(t.height+(n?0:8))),setTimeout(function(){$("#poppin-"+i).css({transform:"scale3d(1,1,1)",opacity:1})},25),s&&setTimeout(function(){var p=$("#poppin-"+i)[0].getBoundingClientRect();$("#poppin-"+i).hasClass("center")?($(".poppins-image").css("left","calc(50% - "+o.width/2+"px)"),$(".poppins-image").addClass("center")):$("#poppin-"+i).hasClass("from-left")?$(".poppins-image").css("left",p.left):($(".poppins-image").css("right",$(window).width()-(p.left+e)),$(".poppins-image").addClass("from-right")),t.top-(o.height+40)<0?($(".poppins-image").css("top",p.top+l+8),$(".poppins-image").addClass("activate underneath")):($(".poppins-image").css({top:p.top-(o.height+8)}),$(".poppins-image").addClass("activate"))},175)}