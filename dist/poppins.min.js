let arrow_svg=`<svg viewBox="0 0 32 32" role="img" aria-label="An arrow icon." class="icon blue"><path d="M32 16.010q0-1.452-0.935-2.387l-9.924-9.924q-1.014-1.014-2.227-1.014-1.472 0-2.347 0.885t-0.875 2.178q0 0.776 0.318 1.333t0.776 1.014l3.58 3.54 3.878 3.62 1.71-2.168-7.259-0.338h-15.234q-1.571 0-2.516 0.895t-0.945 2.367 0.945 2.367 2.516 0.895h15.234l7.259-0.338-1.71-2.168-3.878 3.62-3.58 3.52q-0.457 0.438-0.776 1.004t-0.318 1.342q0 1.293 0.875 2.178t2.347 0.885q1.213 0 2.227-1.014l9.924-9.904q0.935-0.935 0.935-2.387z"></path></svg>`;function poppinTemplates(a,b){var c="<div class=\"poppins-dismissal\" onclick=\"buildPoppin(null, null, false)\"></div>";return"list_menu"===a?(c+=`
        <div class="poppins-item list-menu" style="left:-99999px;top:-999999px;opacity:0;" id="poppin-${a}">`,b.forEach(function(a){c+=`
            <div onclick="buildPoppin(null, null, false);${a.function};">
                <div><p>${a.content}</p></div>
                <div>${a.svg_id?`<svg class="icon ${a.color_class?a.color_class:""} ${a.large_icon?"larger":""}"><use xlink:href="#${a.svg_id}"></use></svg>`:arrow_svg}</div>
            </div>
            `}),c+=`</div>`):"additional_info"==a&&(c+=`
        ${b.photo_link?`<div class="poppins-image ${b.photo_layout}" style="background-image:url('${b.photo_link}')"><div class="square-jelly-box"><div></div><div></div></div></div>`:""}
        <div class="poppins-item text-medium" style="left:-99999px;top:-999999px;opacity:0;" id="poppin-${a}">
            <div class="content">
                <div>
                    ${b.title?`<p class="title">${b.title}</p>`:""}
                    ${b.content?`<p>${b.content}</p>`:""}
                </div>
            </div>
            ${b.link?`
            <div id="learn-more-btn" onclick="buildPoppin(null, null, false);${b.function};">
                <div>
                    <p>${b.link_header?b.link_header:"Dive Deeper"}</p>
                    <span class="full-width float-left text-small opacity-75">Via <b>${b.source}</b></span>
                </div>
                <div>
                    <button class="blue small circle">
                        ${arrow_svg}
                    </button>
                </div>
            </div>
            `:""}
        </div>`),c}export function buildPoppin(a,b,c,d,e){if(c){$(b?"#"+b:".nothing").addClass("poppins-shrink-back"),$("body").css("overflow","hidden");var f="custom"===a?e:poppinTemplates(a,e);$("body").append(f),positionPoppin(a,b,d)}else $(".poppins-shrink-back").removeClass("poppins-shrink-back"),$("body").css("overflow",""),$(".poppins-item, .poppins-image, .poppins-dismissal").fadeOut(125,function(){$(this).remove()})}function positionPoppin(a,b,c){var d=c?{left:c.x,top:c.y,height:0,width:0}:$("#"+b)[0].getBoundingClientRect(),e=!!(0<$(".poppins-image").length),f=e?$(".poppins-image")[0].getBoundingClientRect():0,g=$("#poppin-"+a).width(),h=$("#poppin-"+a).height();$("#poppin-"+a).css({transform:"scale3d(0,0,0)",top:"",left:""}),$(".poppins-image").css({transform:"scale3d(0,0,0)"}),0>=d.left-g&&d.left+g<$(window).width()?($("#poppin-"+a).css("left",d.left+(c?0:16)),$("#poppin-"+a).addClass("from-left")):0>=d.left-g&&d.left+(g+32)>$(window).width()?($("#poppin-"+a).css("left","calc(50% - "+g/2+"px)"),$("#poppin-"+a).addClass("center")):$("#poppin-"+a).css("right",$(window).width()-d.left-(d.width-(c?0:16))),d.top+d.height+h+(e?f.height+16:0)>$(window).height()?(0>d.top+16-h&&$("#poppin-"+a).css("max-height",d.top+16+"px"),$("#poppin-"+a).addClass("from-bottom"),$("#poppin-"+a).css("bottom",$(window).height()-d.top+(c?0:16))):8>d.top-(d.height+h+(e?f.height+16:0))?$("#poppin-"+a).css("top",16):$("#poppin-"+a).css("top",d.top+(d.height+(c?0:8))),setTimeout(function(){$("#poppin-"+a).css({transform:"scale3d(1,1,1)",opacity:1})},25),e&&setTimeout(function(){var b=$("#poppin-"+a)[0].getBoundingClientRect();$("#poppin-"+a).hasClass("center")?($(".poppins-image").css("left","calc(50% - "+f.width/2+"px)"),$(".poppins-image").addClass("center")):$("#poppin-"+a).hasClass("from-left")?$(".poppins-image").css("left",b.left):($(".poppins-image").css("right",$(window).width()-(b.left+g)),$(".poppins-image").addClass("from-right")),0>d.top-(f.height+40)?($(".poppins-image").css("top",b.top+h+8),$(".poppins-image").addClass("activate underneath")):($(".poppins-image").css({top:b.top-(f.height+8)}),$(".poppins-image").addClass("activate"))},175)}